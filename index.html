<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.css" integrity="sha512-C7hOmCgGzihKXzyPU/z4nv97W0d9bv4ALuuEbSf6hm93myico9qa0hv4dODThvCsqQUmKmLcJmlpRmCaApr83g==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.css" integrity="sha512-/zs32ZEJh+/EO2N1b0PEdoA10JkdC3zJ8L5FTiQu82LR9S/rOQNfQN7U59U9BC12swNeRAz3HSzIL2vpp4fv3w==" crossorigin="anonymous" />

    <title>Grafkom - dwinuray</title>
  </head>
  <body>
    <div class="container">
        
        <div class="jumbotron">
            <div class="row">
                <div class="col-md-8">
                    <h1 class="display-3">Grafika Komputer</h1>
                    <p class="lead">Menggunakan Algortima <strong><i>Brute Force</i></strong> dan <strong><i>Digital Differential Analyzer</i></strong></p>
                </div>
                <div class="col-md-4">
                    
                    <svg style="width: 100%" id="ad1dbded-e6d6-4106-9f5c-9042f8f56d9b" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 884.7058 576.53301"><title>progress_data</title><ellipse cx="763.62849" cy="564.53301" rx="121.07731" ry="12" fill="#e6e6e6"/><ellipse cx="74.9902" cy="559" rx="43.3627" ry="6" fill="#e6e6e6"/><rect width="567.57144" height="284.75098" fill="#e6e6e6"/><rect x="26.06195" y="23.16618" width="515.44754" height="238.41862" fill="#fff"/><polygon points="26.744 262.267 25.379 260.902 94.595 191.687 116.314 213.405 154.441 175.277 201.256 222.092 280.89 142.458 317.087 178.656 396.238 99.504 440.64 143.906 522.004 62.542 523.369 63.907 440.64 146.636 396.238 102.234 317.087 181.385 280.89 145.188 201.256 224.822 154.441 178.007 116.314 216.135 94.595 194.416 26.744 262.267" fill="#00bfa6"/><circle cx="396.72086" cy="102.3173" r="11.58309" fill="#00bfa6"/><circle cx="155.40647" cy="177.60739" r="11.58309" fill="#00bfa6"/><circle cx="317.56974" cy="178.57265" r="11.58309" fill="#00bfa6"/><circle cx="204.6346" cy="222.00924" r="11.58309" fill="#00bfa6"/><circle cx="278.95943" cy="145.75389" r="11.58309" fill="#00bfa6"/><circle cx="440.15745" cy="145.75389" r="11.58309" fill="#00bfa6"/><path d="M219.01394,691.24065c4.7,17.37388,20.79839,28.134,20.79839,28.134s8.47828-17.40854,3.77832-34.78242-20.79838-28.134-20.79838-28.134S214.314,673.86677,219.01394,691.24065Z" transform="translate(-157.6471 -161.73349)" fill="#e6e6e6"/><path d="M225.9202,687.50682c12.89676,12.55447,14.472,31.85362,14.472,31.85362s-19.33453-1.05567-32.23129-13.61015-14.472-31.85362-14.472-31.85362S213.02344,674.95234,225.9202,687.50682Z" transform="translate(-157.6471 -161.73349)" fill="#00bfa6"/><path d="M880.63206,295.92979l7.38726,73.05167h60.7943l-2.92207-111.03854c0-23.90017-16.52223-44.805-40.42192-44.805s-39.44791,19.93084-39.44791,43.831l-3.89609,112.01256h9.9121Z" transform="translate(-157.6471 -161.73349)" fill="#2f2e41"/><path d="M916.96859,679.01334s-2.624,16.61862-6.99731,19.24261,22.74127,8.74664,22.74127,8.74664l4.37332-26.23992Z" transform="translate(-157.6471 -161.73349)" fill="#fbbebe"/><path d="M949.33117,489.2112l9.62131,11.37064-4.37332,39.35989-3.49866,77.84511s6.99731,67.34915,0,69.09848-38.48523.87466-37.61056-3.49866,1.74933-7.872,3.49865-13.99463-1.74932-27.98925-1.74932-27.98925l4.37332-24.4906-15.744-105.83437Z" transform="translate(-157.6471 -161.73349)" fill="#2f2e41"/><path d="M917.84326,695.632s-9.62131-1.74933-10.496,0S889.854,715.74923,887.23,715.74923s-21.8666,17.49329-1.74933,18.36795,53.35452-14.86929,53.35452-14.86929-4.89134-22.25712-4.63233-21.1872S917.84326,700.00528,917.84326,695.632Z" transform="translate(-157.6471 -161.73349)" fill="#2f2e41"/><path d="M907.34729,655.3974s24.4906,27.11459,25.36526,29.73859,13.99463,0,13.99463,0l5.248-17.49329-4.37332-6.12265-24.4906-20.11727Z" transform="translate(-157.6471 -161.73349)" fill="#fbbebe"/><path d="M942.33386,675.51468,929.65123,687.4522s16.18128,24.79838,16.18128,27.42237.87467,24.4906,9.62131,20.99194,9.62131-38.48522,9.62131-38.48522-.87467-35.86124-6.12265-38.48523-16.75024-1.795-16.75024-1.795S949.33117,674.64,942.33386,675.51468Z" transform="translate(-157.6471 -161.73349)" fill="#2f2e41"/><path d="M869.73673,411.36609s-4.37332,13.99463-5.248,17.49328-6.12265,13.12-6.12265,27.98926,1.74933,32.36257,0,34.1119-29.73858,99.71172-17.49328,110.20769,52.47985,45.48254,55.10384,49.85586,3.49866,14.86929,8.74665,13.12,25.36526-19.24262,26.23992-22.74127-11.37063-9.62131-11.37063-9.62131-24.4906-35.86123-30.61325-34.98657-5.248-4.37332-4.37332-6.99731,2.624-4.37332,0-4.37332-.87467-6.99732,0-10.496S905.598,524.19777,905.598,524.19777l53.35452-23.61593s-2.624-63.85049-21.86661-81.34377l-4.37332-10.496S883.73135,405.24344,869.73673,411.36609Z" transform="translate(-157.6471 -161.73349)" fill="#2f2e41"/><path d="M891.60333,273.16914s4.37332,30.61325-6.12265,32.36258-19.24261.87466-19.24261,1.74933S892.478,335.2703,892.478,335.2703l24.49059-1.74933L938.8352,309.905s-20.11728-3.49866-20.11728-15.744-.87466-20.99194-.87466-20.99194Z" transform="translate(-157.6471 -161.73349)" fill="#ffb8b8"/><circle cx="747.51353" cy="97.00369" r="27.11459" fill="#ffb8b8"/><path d="M889.33645,303.305s-42.341,3.97608-44.965,15.34671,17.49329,82.21844,20.11728,88.34109,1.74933,10.496,1.74933,10.496a34.60715,34.60715,0,0,1,27.98925-6.12265c16.61862,3.49866,40.23456,1.74933,40.23456,1.74933s7.872-32.36258,9.6213-35.86124,8.74665-22.74127,8.74665-27.98925,10.496-27.11459,10.496-27.11459-5.248-15.744-24.4906-14.86929c0,0-8.39344-3.75674-10.7567-1.00371s-15.48323,14.99833-32.10185,9.75035S889.33645,303.305,889.33645,303.305Z" transform="translate(-157.6471 -161.73349)" fill="#e6e6e6"/><path d="M946.70718,317.777l16.61862,4.37332s12.2453,44.60787,13.12,45.48254,1.74933,6.12265,1.74933,6.12265,0,.87466,1.74933,3.49865,4.37332.87467,2.624,4.37333-4.37332,1.74932-2.624,5.248.87466,13.12.87466,13.12-4.37332-16.61862-20.11728-12.2453l-10.496-47.23186Z" transform="translate(-157.6471 -161.73349)" fill="#e6e6e6"/><polygon points="794.553 164.416 794.493 164.616 765.683 255.376 746.773 251.176 726.323 246.637 755.193 153.046 794.553 164.416" fill="#00bfa6"/><path d="M861.29282,317.777l-16.61862,4.37332s-12.2453,44.60787-13.12,45.48254-1.74933,6.12265-1.74933,6.12265,0,.87466-1.74933,3.49865-4.37332.87467-2.624,4.37333,4.37332,1.74932,2.624,5.248-.87466,13.12-.87466,13.12,4.37332-16.61862,20.11728-12.2453l10.496-47.23186Z" transform="translate(-157.6471 -161.73349)" fill="#e6e6e6"/><path d="M832.4289,385.12616l-5.46422,9.13177s-2.40775,17.10816,9.83754,17.10816,29.73859-16.61862,29.73859-16.61862,8.74664-3.49866,13.99463-2.624,34.1119,0,21.8666-14.8693-33.23724,0-33.23724,0l-21.8666,10.496-11.37064-6.12264Z" transform="translate(-157.6471 -161.73349)" fill="#ffb8b8"/><path d="M839.86355,373.3182l8.74664,13.99462s-20.11728,2.624-21.8666,6.99732,7.872-22.74127,7.872-22.74127Z" transform="translate(-157.6471 -161.73349)" fill="#e6e6e6"/><path d="M882.5801,249.17672c17.61432-9.49644,24.85-9.09431,46.75307,0l5.84413-14.23842a10.12353,10.12353,0,0,0-10.11213-10.11214H885.87409A10.12353,10.12353,0,0,0,875.762,234.9383Z" transform="translate(-157.6471 -161.73349)" fill="#2f2e41"/><polygon points="794.493 164.616 765.683 255.376 746.773 251.176 775.193 159.046 794.493 164.616" opacity="0.2"/><polygon points="781.188 159.044 752.324 252.633 791.684 261.379 820.548 170.414 781.188 159.044" fill="#00bfa6"/><path d="M975.5711,385.12616l5.46422,9.13177s2.40775,17.10816-9.83754,17.10816-29.73859-16.61862-29.73859-16.61862-8.74664-3.49866-13.99463-2.624-34.1119,0-21.8666-14.8693,33.23724,0,33.23724,0l21.8666,10.496,11.37064-6.12264Z" transform="translate(-157.6471 -161.73349)" fill="#ffb8b8"/><path d="M968.13645,373.3182l-8.74664,13.99462s20.11728,2.624,21.8666,6.99732-7.872-22.74127-7.872-22.74127Z" transform="translate(-157.6471 -161.73349)" fill="#e6e6e6"/></svg>
                </div>
            </div>
            <hr>
            <p>Oleh : Dwi Nur Cahyo - 1818043 &emsp; | &emsp; Informatika A

                <br>
                <small>
                    <a href="https://api.whatsapp.com/send?phone=628990307782&text=Dwi%2C%20saya%20butuh%20bantuan">Butuh proyek atau bantuan bimbingan tugas akhir ?</a>&emsp; | &emsp;<a href="https://github.com/dwinuray">github</a> &emsp; | &emsp; <a href="https://facebook.com/dwinuray">facebook</a>
                </small>
            </p>
            
        </div>

        <form id="submit-form">
        <div class="row">
            
            <div class="col-md-4">
                <h4>Pilih Jenis Perhitungan</h4>
                <div class="form-group">
                    <select name="algorithm-type" class="form-control" id="">
                        <option value="bf" id="">Algortima Brute Force</option>
                        <option value="dda" id="">Algortima DDA</option>
                    </select>
                </div>
            </div>

            <div class="col-md-8" style="border-left: 1px solid #e0e0e0">
                <h4>Pertanyaan</h4>
                <p>Diketahui 2 buah titik A(
                    <input type="text" name="x1" value="2" class="col-md-1"> ,
                    <input type="text" name="y1" value="1" class="col-md-1"> ) dan titik B(
                    <input type="text" name="x2" value="8" class="col-md-1"> ,
                    <input type="text" name="y2" value="5" class="col-md-1">)

                    bila titik A sebagai titik awal dan B sebagai titik akhir, buatlah garis yang menghubungkan titik tersebut.</p>
            </div>

            <div class="col-md-12 text-right">
                <button type="reset" class="btn btn-secondary btn-sm">Reset</button>
                <button class="btn btn-primary btn-sm calculate">Hitung</button>

                <hr>
            </div>

            <div class="col-md-12" id="main-content">

                <h4>Hasil</h4>
                <hr>
                <div class="row">    
                    <div class="col-md-6">
                        <div id="data-iteration"></div>
                    </div>
                    <div class="col-md-6" id="section-chart">
                        <h5 id="title"></h5>
                        <canvas id="myChart" width="400" height="400"></canvas>
                    </div>
                </div>
                
                
                
            </div>
        </div>
        </form>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.js" integrity="sha512-zO8oeHCxetPn1Hd9PdDleg5Tw1bAaP0YmNvPY8CwcRyUk7d7/+nyElmFrB6f7vg4f7Fv4sui1mcep8RIEShczg==" crossorigin="anonymous"></script>

    <script>

        $(function() {

            // event
            $('#submit-form').submit(function( e ) {

                var x1 = $('input[name="x1"]').val();
                var y1 = $('input[name="y1"]').val();
                var x2 = $('input[name="x2"]').val();
                var y2 = $('input[name="y2"]').val();
                var menu = $('select[name="algorithm-type"]').val();
                
                if ( menu == "bf" ) {

                    bruteForce( x1, y1, x2, y2 );
                } else {

                    DDA(x1, y1, x2, y2);
                }
                e.preventDefault();
            });

            /* Brute Force*/
                var bruteForce = function(x1, y1, x2, y2) {

                    if ( x1 == x2 ) {

                        alert("x1 = x2 maka garis vertikal");
                    } else if ( y1 == y2 ) {

                        alert("y1 = y2 maka garis horisontal")
                    } else {

                        // gradien 
                        let m = (y2 - y1) / (x2 - x1);
                        let n = 0;
                        let dataXY, lastXY, valXY;
                        if ( m < 1 ) {

                            n = x2 - x1 + 1;
                            keyXY = x1; // x = x1
                            valXY = x1;
                            lastXY = y1;
                        } else {

                            n = y2 - y1 + 1;
                            keyXY  = y1; // y = y1
                            valXY  = y1;
                            lastXY = x1;
                        }

                        // rumus
                        // y = m(keyXY - x1)+y1
                        // x = m(keyXY - y1)+x1
                        var result =  processBruteForce( m, n, keyXY, valXY, lastXY, x1, y1, x2, y2 );
                        drawLine( result );
                    }
                }

                var processBruteForce = function(m, n, key, val, last, x1, y1, x2, y2) {
                    let dataArr = new Array();
                    var elementIteration = "";
                    var elementN         = "";
                    if ( m > 1 ) {

                        for ( var i = 1; i <= n; i++ ) {

                            let y = key;
                            for ( var i = 1; i <= n; i++ ) {
                                
                                let x = (m * ( y - val )) + parseInt(last);
                                let points = new Array(Math.round(x), parseInt(y));
                                

                                // elementHTML 
                                elementIteration += '<p style="margin: 0px; font-weight: bold">Iterasi - '+ i +'</p>' +
                                                '<p style="margin-left: 10px">' +
                                                    'a. y = m(y - y1) + x1 <br>' +
                                                    '&emsp;&nbsp; = '+ m +'( '+ y +' - '+ val +' ) + '+ last +' = '+ Math.round(x) +' <br>' +

                                                    'b. Titik ('+Math.round(x)+', '+ parseInt(y) +') <br>' +
                                                    'c. y = '+ y +' + 1 = '+ (y + 1) +
                                                    '<small> (Selalu ditambahkan 1 <i>increment</i>)</small>' +
                                                '</p>';

                                dataArr.push( points );
                                y++;
                            }


                            // iteration
                            elementN = '<p>N = y2 - y1 + 1 <br>' +
                                            '<span>Nilai N = '+ y2 +' - '+ y1 +' + 1 = '+ n +' <small>(Jumlah Iterasi)</small></span> <br> <small class="text-bold">Sehingga nilai m > 1</small>' +
                                        '</p>';
                        }
                    } else {

                        let x = key;
                        for ( var i = 1; i <= n; i++ ) {
                            
                            let y = (m * ( x - val )) + parseInt(last);
                            let points = new Array(parseInt(x), Math.round(y));
                            

                            // elementHTML 
                            elementIteration += '<p style="margin: 0px; font-weight: bold">Iterasi - '+ i +'</p>' +
                                            '<p style="margin-left: 10px">' +
                                                'a. y = m(x - x1) + y1 <br>' +
                                                '&emsp;&nbsp; = '+ m +'( '+ x +' - '+ val +' ) + '+ last +' = '+ Math.round(y) +' <br>' +

                                                'b. Titik ('+parseInt(x)+', '+ Math.round(y) +') <br>' +
                                                'c. x = '+ x +' + 1 = '+ (x + 1) +
                                                '<small>(Selalu ditambahkan 1 <i>increment</i>)</small>' +
                                            '</p>';

                            dataArr.push( points );
                            x++;
                        }


                        // iteration
                        elementN = '<p>N = x2 - x1 + 1 <br>' +
                                        '<span>Nilai N = '+ x2 +' - '+ x1 +' + 1 = '+ n +' <small>(Jumlah Iterasi)</small></span> <br> <small class="text-bold">Sehingga nilai m < 1</small>' +
                                    '</p>';
                    }

                    var elementHTMLHeader = '<p>' +
                                            'Mencari nilai gradien m = (y2 - y1) / (x2 - x1) <br> ' +
                                            '<span>Nilai m = ('+ y2 +' - '+ y1 +' ) / ( ' + x2 + ' - '+ x1 +' ) = '+ m +'</span>' +
                                        '</p>';

                    $('#data-iteration').html( elementHTMLHeader + elementN + elementIteration );
                    return dataArr;
                }
            /* BF - end*/


            /* DDA */
                var DDA = function( x1, y1, x2, y2 ) {

                    let dx = x2 - x1; 
                    let dy = y2 - y1;
                    let iteration = 0;
                    let pointX, pointY;
                    if ( dx > dy ) {

                        iteration = dx;

                    } else {

                        iteration = dy;
                    }

                    // coordinate x and y 
                    pointX = dx / iteration;
                    pointY = dy / iteration;

                    // element HTML 
                    var elementHeading = '<p>Berikut adalah rumus perhitungan</p>' +
                        '<div style="margin-left: 10px">' +
                            '<p>A. Tentukan dua titik yang akan dihubungkan dalam pembentukan garis.</p>' +
                            '<p>B. Tentukan salah satu titik sebagai awal(x0,y0) dan titik akhir(x1,y1). <br> &emsp;Sehingga akan menjadi seperti berikut <br>' +
                                '&emsp;<span>- titik awal ('+ x1 +', '+ y1 +') dan titik akhir ('+ x2 +', '+ y2 +')</span>' +
                            '</p>' +
                            '<p>C. |ê§É| Menghitung  Delta A dan Delta B <small>(dx = x2 - x1 &emsp; | &emsp; dy = y2 - y1)</small> <br>' +
                                '&emsp; <span>- dx = '+ x2 +' - '+ x1 +' = '+ dx +'</span> <br>' +
                                '&emsp; <span>- dy = '+ y2 +' - '+ y1 +' = '+ dy +'</span>' +
                            '</p>';

                    // process DDA
                    var result = processDDA( pointX, pointY, iteration, x1, y1, elementHeading );
                    drawLine( result );
                }

                var processDDA = function( pointX, pointY, iteration, x1, y1, elementHeading) {

                    let dataArr = new Array([x1, y1]);
                    let posX = parseInt(x1); // field x
                    let posY = parseInt(y1); // field y

                    // simulation 
                    // position  |  field x | field y   | round(x, y)
                    //          |  +pointX  | + pointY |  round(x1, y1)

                    var elementTableBody = "";
                    for ( var i = 0; i < iteration; i++){

                        let increX, increY; 

                        increY = Math.round(posY + pointY); 
                        increX = Math.round(posX + pointX); 

                        let tempPoint = new Array(increX, increY);
                        dataArr.push( tempPoint );


                        // element
                        elementTableBody += '<tr>' +
                                        '<td>'+ i +'</td>' +
                                        '<td>'+ (posX + pointX) +'</td>' +
                                        '<td>'+ (posY + pointY).toFixed(2) +'</td>' +
                                        '<td>('+ increX +', '+ increY +')</td>' +
                                    '</tr>';

                        // increment 
                        posX += pointX;
                        posY += pointY;
                    }

                    var elementTableHeading = '<p>D. Tabulasi seperti berikut</p>'+
                            '<table class="table stripe">'+
                                '<thead>'+
                                    '<tr>'+
                                        '<th>No</th>'+
                                        '<th><i>x</i></th>'+
                                        '<th><i>y</i></th>'+
                                        '<th><i>round(x, y)</i></th>'+
                                    '</tr>'+
                                    '<tr>'+
                                        '<th></th>'+
                                        '<th>+ '+ pointX.toFixed(2) +'<small>Increment</small></th>'+
                                        '<th>+ '+ pointY.toFixed(2) +'<small>Increment</small></th>'+
                                        '<th>('+ x1 +', '+ y1 +')</th>'+
                                    '</tr>'+
                                '</thead>'+
                                '<tbody>';

                    var renderElement = elementHeading + elementTableHeading + elementTableBody + '</tbody></table><p>E. Titik (x, y) diimplementasikan dalam grafik disamping</p></div>';
                    $('#data-iteration').html( renderElement );
                    return dataArr;
                }
            /* End - DDA */


            // render
            var drawLine = function( result ) {

                    var lineX = new Array(1);
                    var lineY = new Array(1);
                    $('#title').text("Gambar Garis Kartesius");
                    for ( var lx = 0; lx < result.length; lx++ ) {

                        lineX.push( result[lx][0] );
                        lineY.push( result[lx][1] );
                    }
                    
                    var ctx = document.getElementById('myChart').getContext('2d');
                    var myChart = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: lineX,
                            datasets: [{
                                label: 'Titik',
                                data: lineY,
                                backgroundColor: [
                                    'rgba(255, 99, 132, 0.2)',
                                ],
                                borderColor: [
                                    'rgba(255, 99, 132, 1)',
                                ],
                                borderWidth: 1,
                                fill: false,
                            }]
                        },
                        options: {
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            }
                        }
                    });                    
            }
        }); 
    </script>
  </body>
</html>